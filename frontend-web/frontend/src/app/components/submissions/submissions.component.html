<section class="wrap">
  <h1>Mijn ingediende</h1>

  <div class="state" *ngIf="loading">Laden...</div>
  <div class="state error" *ngIf="!loading && error">{{ error }}</div>

  <ng-container *ngIf="!loading && !error">
    <h2 class="section-title ok">Goedgekeurd</h2>
    <div class="grid">
      <article class="card ok" *ngFor="let p of grouped.accepted">
        <header class="card__head">
          <h3 class="title">{{ p.title }}</h3>
          <small class="meta">{{ p.updatedAt | date:'dd/MM/yyyy' }}</small>
        </header>
        <p class="excerpt">{{ p.content }}</p>
        <footer class="card__foot">
          <button class="btn primary" (click)="publish(p)">Publiceer</button>
        </footer>
      </article>
      <p class="placeholder" *ngIf="grouped.accepted.length === 0">Geen goedgekeurde artikelen.</p>
    </div>

    <h2 class="section-title bad">Afgewezen</h2>
    <div class="grid">
      <article class="card bad" *ngFor="let p of grouped.rejected">
        <header class="card__head">
          <h3 class="title">{{ p.title }}</h3>
          <small class="meta">{{ p.updatedAt | date:'dd/MM/yyyy' }}</small>
        </header>
        <p class="excerpt">{{ p.content }}</p>
        <footer class="card__foot">
          <button class="btn outline" (click)="backToDraft(p)">Terug naar drafts</button>
        </footer>
      </article>
      <p class="placeholder" *ngIf="grouped.rejected.length === 0">Geen afgewezen artikelen.</p>
    </div>

    <h2 class="section-title info">Ingediend</h2>
    <div class="grid">
      <article class="card info" *ngFor="let p of grouped.submitted">
        <header class="card__head">
          <h3 class="title">{{ p.title }}</h3>
          <small class="meta">{{ p.updatedAt | date:'dd/MM/yyyy' }}</small>
        </header>
        <p class="excerpt">{{ p.content }}</p>
      </article>
      <p class="placeholder" *ngIf="grouped.submitted.length === 0">Geen ingediende artikelen.</p>
    </div>
  </ng-container>
</section>
